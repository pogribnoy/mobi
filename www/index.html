<!DOCTYPE html>
<html>
	<header>
		<meta charset="utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="msapplication-tap-highlight" content="no" />
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
		<!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
		<meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
		<link rel="stylesheet" href="css/index.css" />
		<title>Hello World</title>
	</header>
	<body>
		<div class="app">
			<h1>PhoneGap</h1>
			<div id="deviceready" class="blink">
				<p class="event listening">Connecting to Device</p>
				<p class="event received">Device is Ready</p>
			</div>
		</div>
		
		<script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" src="js/index.js"></script>

		<script type="text/javascript">
			app.initialize();

			document.addEventListener('deviceready', this.onDeviceReady, false);
			
			function onDeviceReady() {
				app.receivedEvent('deviceready');
			}
			
			// Update DOM on a Received Event
			function receivedEvent (id) {
				var parentElement = document.getElementById(id);
				var listeningElement = parentElement.querySelector('.listening');
				var receivedElement = parentElement.querySelector('.received');

				listeningElement.setAttribute('style', 'display:none;');
				receivedElement.setAttribute('style', 'display:block;');

				console.log('Received Event: ' + id);
			}
			function showAlert() {
				navigator.notification.alert("Testing notification.alert", afterAlert, "Alert title", "Button");
			}
			function afterAlert() {
				// Do something
			}
		</script>
	</body>
</html>
